・・・・
Installing rmagick 2.16.0 with native extensions
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

current directory:
/Users/takahiro/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/rmagick-2.16.0/ext/RMagick
/Users/takahiro/.rbenv/versions/2.5.0/bin/ruby -r
./siteconf20190103-3521-1hgc091.rb extconf.rb
checking for clang... yes
checking for Magick-config... no
checking for pkg-config... yes
Package MagickCore was not found in the pkg-config search path.
Perhaps you should add the directory containing `MagickCore.pc'
to the PKG_CONFIG_PATH environment variable
No package 'MagickCore' found
checking for outdated ImageMagick version (<= 6.4.9)... *** extconf.rb failed
***
Could not create Makefile due to some reason, probably lack of necessary
libraries and/or headers.  Check the mkmf.log file for more details.  You may
need configuration options.

Provided configuration options:
	--with-opt-dir
	--without-opt-dir
	--with-opt-include
	--without-opt-include=${opt-dir}/include
	--with-opt-lib
	--without-opt-lib=${opt-dir}/lib
	--with-make-prog
	--without-make-prog
	--srcdir=.
	--curdir
	--ruby=/Users/takahiro/.rbenv/versions/2.5.0/bin/$(RUBY_BASE_NAME)

To see why this extension failed to compile, please check the mkmf.log which can
be found here:

/Users/takahiro/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/extensions/x86_64-darwin-17/2.5.0-static/rmagick-2.16.0/mkmf.log

extconf failed, exit code 1

Gem files will remain installed in
/Users/takahiro/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/rmagick-2.16.0
for inspection.
Results logged to
/Users/takahiro/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/extensions/x86_64-darwin-17/2.5.0-static/rmagick-2.16.0/gem_make.out

An error occurred while installing rmagick (2.16.0), and Bundler cannot
continue.
Make sure that `gem install rmagick -v '2.16.0' --source
'https://rubygems.org/'` succeeds before bundling.

In Gemfile:
  rmagick

//imagemagickアンストしようとしたら、、、
$ brew uninstall imagemagick
Error: No such keg: /usr/local/Cellar/imagemagick
$ brew install imagemagick@6
Updating Homebrew...
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/core).
==> New Formulae
anycable-go                goreman                    postgresql@10
atomist-cli                interactive-rebase-tool    react-native-cli
dav1d                      istioctl                   redis@4.0
dhall                      jmxterm                    ruby@2.5
dnscontrol                 kubeseal                   swagger-codegen@2
gambit-scheme              pass-otp                   tass64
ghr                        php@7.2                    termtosvg
==> Updated Formulae
ruby-build ✔                             libqalculate
abcm2ps                                  librealsense
abyss                                    libressl
activemq                                 librsvg
aircrack-ng                              libsecret
alexjs                                   libssh
algernon                                 libstfl
allure                                   libswiften
amazon-ecs-cli                           libtins
ammonite-repl                            libuv
angle-grinder                            libvirt
angular-cli                              libvmaf
annie                                    libxmlsec1
ansible                                  linkerd
ansifilter                               llvm
antlr                                    lmdb
antlr4-cpp-runtime                       logstash
apache-arrow-glib                        logtalk
apache-flink                             lolcat
apache-geode                             lxc
arangodb                                 macvim
arcade-learning-environment              makensis
astrometry-net                           mame
aubio                                    mapserver
autorest                                 mariadb-connector-c
aws-sdk-cpp                              mas
awscli                                   maxwell
awslogs                                  mdcat
azure-cli                                media-info
b2-tools                                 mercurial
babel                                    mesa
babl                                     meson
ballerina                                micronaut
basex                                    mikutter
bcal                                     minio
beagle                                   minio-mc
bigloo                                   mint
binaryen                                 mkl-dnn
bind                                     mkvtoolnix
bison                                    mockserver
bitcoin                                  mono
bitrise                                  mosquitto
blackbox                                 mruby
blast                                    mutt
blink1                                   mycli
bullet                                   mysql
bundletool                               nasm
bzt                                      nativefier
cabextract                               neo4j
caf                                      neovim
caffe                                    netcdf
cake                                     netpbm
capstone                                 nettle
cargo-completion                         newsboat
catimg                                   nghttp2
ceres-solver                             nginx
certbot                                  nmh
cfitsio                                  nng
cgit                                     nnn
cglm                                     node
chakra                                   node-build
checkbashisms                            node@10
checkstyle                               node@6
chronograf                               node@8
circleci                                 nodenv
citus                                    nsd
clblast                                  nss
clojure                                  numpy
cmake                                    nuxeo
cockroach                                nwchem
cocoapods                                octave
cointop                                  ompl
commandbox                               oniguruma
composer                                 opa
conan                                    opam
container-diff                           open-mpi
convox                                   openblas
cp2k                                     opencoarrays
cppcheck                                 opencv
create-dmg                               opencv@2
cryptopp                                 openfortivpn
curl                                     openimageio
curl-openssl                             openldap
cython                                   openmsx
dartsim                                  openvdb
dasht                                    orc-tools
dbhash                                   osmium-tool
dbus                                     osrm-backend
dcd                                      packer
dependency-check                         pagmo
dfmt                                     paket
dialog                                   pandoc-citeproc
diamond                                  pandoc-crossref
diceware                                 parallel
diff-pdf                                 parallelstl
diffutils                                pdfpc
dita-ot                                  pdftoedn
django-completion                        pdftoipe
dmd                                      percona-server
dnscrypt-wrapper                         perl
docfx                                    petsc
docker                                   petsc-complex
docker-machine-nfs                       pgbadger
docker-machine-parallels                 pgroonga
doctl                                    pgrouting
doitlive                                 pgweb
doxygen                                  phoronix-test-suite
dpkg                                     php
dscanner                                 php-code-sniffer
dub                                      php-cs-fixer
dvm                                      php@5.6
dwm                                      php@7.1
easyengine                               phpmyadmin
efl                                      phpunit
eigen                                    picard-tools
elasticsearch                            pig
elasticsearch@5.6                        pilosa
embulk                                   pixman
emscripten                               plantuml
envconsul                                platformio
eprover                                  plplot
erlang                                   pmd
erlang@20                                pngquant
eslint                                   poppler
ethereum                                 postgis
exploitdb                                postgresql
fauna-shell                              ppsspp
fb-client                                pre-commit
fbi-servefiles                           presto
ffmpeg                                   prometheus
ffmpeg2theora                            protobuf
ffmpeg@2.8                               pulumi
ffmpegthumbnailer                        pumba
ffms2                                    pushpin
firebase-cli                             pyenv
fish                                     pygitup
fluent-bit                               python
flume                                    qalculate-gtk
fluxctl                                  qbs
flyway                                   qemu
fmt                                      qmmp
fn                                       qpid-proton
fonttools                                qt
freetds                                  r
frugal                                   radare2
fswatch                                  re2
futhark                                  redis
fwup                                     repo
fx                                       riemann-client
gammaray                                 rke
gauche                                   robot-framework
gcab                                     rom-tools
gcc@7                                    roswell
gdal                                     rpm
gdb                                      rswift
gdcm                                     ruby
gegl                                     rust
geos                                     rustup-init
get_iplayer                              salt
gexiv2                                   sbcl
git                                      sbt
git-archive-all                          scala
git-lfs                                  scalapack
git-quick-stats                          sceptre
git-standup                              schismtracker
gitbucket                                scipy
github-markdown-toc                      shellcheck
gitlab-gem                               shellshare
gitlab-runner                            shfmt
glib                                     shibboleth-sp
global                                   signify-osx
gmsh                                     sip
gnome-latex                              skaffold
gnu-sed                                  skinny
gnupg                                    skopeo
gnuradio                                 smimesign
gnutls                                   solr
go                                       sonobuoy
go-bindata                               source-to-image
go@1.10                                  sphinx-doc
gobject-introspection                    spotbugs
gocryptfs                                sqlcipher
godep                                    sqldiff
goenv                                    sqlite
gopass                                   sqlite-analyzer
goreleaser                               statik
gowsdl                                   stellar-core
gphoto2                                  stone-soup
gpsbabel                                 stunnel
grafana                                  subversion
grails                                   sundials
grakn                                    supervisor
graph-tool                               swi-prolog
graphite2                                swiftformat
grep                                     swiftlint
groff                                    syncthing
groovy                                   sysbench
grpc                                     sysdig
gst-plugins-ugly                         taskell
gst-python                               tbb
gstreamermm                              tcpreplay
gtk+3                                    telegraf
gtkmm3                                   teleport
gupnp-tools                              temporal_tables
gzip                                     terraform
handbrake                                terraform_landscape
haproxy                                  terragrunt
harfbuzz                                 tgui
haskell-stack                            theharvester
haste-client                             tika
healpix                                  tile38
helmfile                                 tippecanoe
highlight                                tmuxinator-completion
http-parser                              tomcat
hub                                      tomcat-native
hugo                                     tomcat@7
hwloc                                    tomcat@8
hyperfine                                tomee-webprofile
icemon                                   topgrade
imagemagick                              tox
immortal                                 traefik
influxdb                                 translate-shell
jabba                                    travis
jansson                                  twoping
jboss-forge                              typescript
jena                                     ubertooth
jenkins                                  ucloud
jenkins-lts                              uhd
jhipster                                 unbound
jsonnet                                  unnethack
kafka                                    up
kapacitor                                urh
kibana                                   v8
kibana@5.6                               vala
kitchen-sync                             verilator
knot-resolver                            vert.x
kontena                                  vice
kops                                     vim
kotlin                                   vim@7.4
kubeless                                 vips
kubernetes-cli                           vte3
kubernetes-helm                          weaver
kustomize                                weboob
languagetool                             webpack
laszip                                   weechat
ldc                                      wget
leiningen                                whois
leptonica                                winetricks
libassuan                                wireguard-go
libatomic_ops                            wireguard-tools
libav                                    woboq_codebrowser
libbi                                    wolfssl
libbladerf                               wp-cli
libbtbb                                  wpscan
libccd                                   wtf
libcds                                   wxmaxima
libcec                                   x264
libcerf                                  xcodegen
libcouchbase                             xml-security-c
libdazzle                                xml-tooling-c
libedit                                  xonsh
libetpan                                 xsimd
libgda                                   xtensor
libgpg-error                             ydcv
libgphoto2                               yle-dl
libgsf                                   you-get
libhttpserver                            youtube-dl
libjwt                                   z3
libmicrohttpd                            zim
libnice                                  znc
libosmium                                zola
libphonenumber                           zsh-completions
libpng                                   zstd
libpqxx                                  zurl
==> Deleted Formulae
apple-gcc42         gradle@2.14         php@7.0             pyexiv2
ffmbc               gv                  pldebugger

==> Installing dependencies for imagemagick@6: libpng, freetype, jpeg, libtiff, libtool, little-cms2, openjpeg, webp and xz
==> Installing imagemagick@6 dependency: libpng
==> Downloading https://homebrew.bintray.com/bottles/libpng-1.6.36.mojave.bottle
######################################################################## 100.0%
==> Pouring libpng-1.6.36.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/libpng/1.6.36: 27 files, 1.2MB
==> Installing imagemagick@6 dependency: freetype
==> Downloading https://homebrew.bintray.com/bottles/freetype-2.9.1.mojave.bottl
######################################################################## 100.0%
==> Pouring freetype-2.9.1.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/freetype/2.9.1: 60 files, 2.6MB
==> Installing imagemagick@6 dependency: jpeg
==> Downloading https://homebrew.bintray.com/bottles/jpeg-9c.mojave.bottle.tar.g
######################################################################## 100.0%
==> Pouring jpeg-9c.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/jpeg/9c: 21 files, 733.4KB
==> Installing imagemagick@6 dependency: libtiff
==> Downloading https://homebrew.bintray.com/bottles/libtiff-4.0.10.mojave.bottl
######################################################################## 100.0%
==> Pouring libtiff-4.0.10.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/libtiff/4.0.10: 246 files, 3.5MB
==> Installing imagemagick@6 dependency: libtool
==> Downloading https://homebrew.bintray.com/bottles/libtool-2.4.6_1.mojave.bott
######################################################################## 100.0%
==> Pouring libtool-2.4.6_1.mojave.bottle.tar.gz
==> Caveats
In order to prevent conflicts with Apple's own libtool we have prepended a "g"
so, you have instead: glibtool and glibtoolize.
==> Summary
🍺  /usr/local/Cellar/libtool/2.4.6_1: 71 files, 3.7MB
==> Installing imagemagick@6 dependency: little-cms2
==> Downloading https://homebrew.bintray.com/bottles/little-cms2-2.9.mojave.bott
######################################################################## 100.0%
==> Pouring little-cms2-2.9.mojave.bottle.1.tar.gz
🍺  /usr/local/Cellar/little-cms2/2.9: 18 files, 1MB
==> Installing imagemagick@6 dependency: openjpeg
==> Downloading https://homebrew.bintray.com/bottles/openjpeg-2.3.0.mojave.bottl
######################################################################## 100.0%
==> Pouring openjpeg-2.3.0.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/openjpeg/2.3.0: 515 files, 12.9MB
==> Installing imagemagick@6 dependency: webp
==> Downloading https://homebrew.bintray.com/bottles/webp-1.0.1.mojave.bottle.ta
######################################################################## 100.0%
==> Pouring webp-1.0.1.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/webp/1.0.1: 39 files, 2.1MB
==> Installing imagemagick@6 dependency: xz
==> Downloading https://homebrew.bintray.com/bottles/xz-5.2.4.mojave.bottle.tar.
######################################################################## 100.0%
==> Pouring xz-5.2.4.mojave.bottle.tar.gz
🍺  /usr/local/Cellar/xz/5.2.4: 92 files, 1MB
==> Installing imagemagick@6
==> Downloading https://homebrew.bintray.com/bottles/imagemagick@6-6.9.10-14.moj
######################################################################## 100.0%
==> Pouring imagemagick@6-6.9.10-14.mojave.bottle.tar.gz
==> Caveats
imagemagick@6 is keg-only, which means it was not symlinked into /usr/local,
because this is an alternate version of another formula.

If you need to have imagemagick@6 first in your PATH run:
  echo 'export PATH="/usr/local/opt/imagemagick@6/bin:$PATH"' >> ~/.bash_profile

For compilers to find imagemagick@6 you may need to set:
  export LDFLAGS="-L/usr/local/opt/imagemagick@6/lib"
  export CPPFLAGS="-I/usr/local/opt/imagemagick@6/include"

For pkg-config to find imagemagick@6 you may need to set:
  export PKG_CONFIG_PATH="/usr/local/opt/imagemagick@6/lib/pkgconfig"

==> Summary
🍺  /usr/local/Cellar/imagemagick@6/6.9.10-14: 1,525 files, 24.4MB
==> Caveats
==> libtool
In order to prevent conflicts with Apple's own libtool we have prepended a "g"
so, you have instead: glibtool and glibtoolize.
==> imagemagick@6
imagemagick@6 is keg-only, which means it was not symlinked into /usr/local,
because this is an alternate version of another formula.

If you need to have imagemagick@6 first in your PATH run:
  echo 'export PATH="/usr/local/opt/imagemagick@6/bin:$PATH"' >> ~/.bash_profile

For compilers to find imagemagick@6 you may need to set:
  export LDFLAGS="-L/usr/local/opt/imagemagick@6/lib"
  export CPPFLAGS="-I/usr/local/opt/imagemagick@6/include"

For pkg-config to find imagemagick@6 you may need to set:
  export PKG_CONFIG_PATH="/usr/local/opt/imagemagick@6/lib/pkgconfig"

// 言われた通りに、
$ brew link --force imagemagick@6
Linking /usr/local/Cellar/imagemagick@6/6.9.10-14... 76 symlinks created

If you need to have this software first in your PATH instead consider running:
  echo 'export PATH="/usr/local/opt/imagemagick@6/bin:$PATH"' >> ~/.bash_profile



// rmagickのバージョン指定してインストール
$ gem install rmagick -v '2.16.0'
Building native extensions. This could take a while...
Successfully installed rmagick-2.16.0
Parsing documentation for rmagick-2.16.0
Installing ri documentation for rmagick-2.16.0
Done installing documentation for rmagick after 1 seconds
1 gem installed

// rmagickインストールできたから再度Redmineに必要なGemをインストール。
$ bundle install --without development test
Please configure your config/database.yml first
Please configure your config/database.yml first
The dependency tzinfo-data (>= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for ruby but the dependency is only for x86-mingw32, x64-mingw32, x86-mswin32. To add those platforms to the bundle, run `bundle lock --add-platform x86-mingw32 x64-mingw32 x86-mswin32`.
Fetching gem metadata from https://rubygems.org/..........
Fetching gem metadata from https://rubygems.org/.
Resolving dependencies...
Using rake 12.3.2
Using concurrent-ruby 1.1.4
Using i18n 0.7.0
Using minitest 5.11.3
Using thread_safe 0.3.6
Using tzinfo 1.2.5
Using activesupport 5.2.2
Using builder 3.2.3
Using erubi 1.8.0
Using mini_portile2 2.3.0
Using nokogiri 1.8.5
Using rails-dom-testing 2.0.3
Using crass 1.0.4
Using loofah 2.2.3
Using rails-html-sanitizer 1.0.4
Using actionview 5.2.2
Using rack 2.0.6
Using rack-test 1.1.0
Using actionpack 5.2.2
Using nio4r 2.3.1
Using websocket-extensions 0.1.3
Using websocket-driver 0.7.0
Using actioncable 5.2.2
Using globalid 0.4.1
Using activejob 5.2.2
Using mini_mime 1.0.1
Using mail 2.7.1
Using actionmailer 5.2.2
Using method_source 0.9.2
Using thor 0.20.3
Using railties 5.2.2
Using actionpack-xml_parser 2.0.1
Using activemodel 5.2.2
Using arel 9.0.0
Using activerecord 5.2.2
Using mimemagic 0.3.3
Using marcel 0.3.3
Using activestorage 5.2.2
Using public_suffix 3.0.3
Using addressable 2.5.2
Using bundler 1.17.3
Using css_parser 1.6.0
Using csv 3.0.2
Using htmlentities 4.3.4
Using net-ldap 0.16.1
Using ruby-openid 2.3.0
Using rack-openid 1.4.2
Using sprockets 3.7.2
Using sprockets-rails 3.2.1
Using rails 5.2.2
Using rbpdf-font 1.19.1
Using rbpdf 1.19.6
Using redcarpet 3.4.0
Using request_store 1.0.5
Using rmagick 2.16.0
Fetching roadie 3.4.0
Installing roadie 3.4.0
Fetching roadie-rails 1.3.0
Installing roadie-rails 1.3.0
Fetching rouge 3.3.0
Installing rouge 3.3.0
Bundle complete! 26 Gemfile dependencies, 58 gems now installed.
Gems in the groups development and test were not installed.
Use `bundle info [gemname]` to see where a bundled gem is installed.

よくできました！よくできました！
